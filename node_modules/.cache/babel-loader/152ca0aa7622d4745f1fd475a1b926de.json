{"ast":null,"code":"import _toConsumableArray from \"/home/den/project/etagiToDo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _objectSpread from \"/home/den/project/etagiToDo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport { getAllTasks, deleteTask, putTask } from \"../apiService\";\nimport moment from 'moment';\n\nvar searchTasksOneDay = function searchTasksOneDay(date) {\n  return getAllTasks().filter(function (task) {\n    return moment(task.dateStart, \"YYYY-MM-DDTHH:mm\").format(\"DD-MM-YYYY\") === date;\n  });\n};\n\nexport var getSt = function getSt(body) {\n  return function (dispatch) {\n    var items = getAllTasks();\n    dispatch({\n      type: \"FETCH_SUCCESS\",\n      payload: items\n    });\n  };\n};\nexport var delTask = function delTask(id) {\n  return function (dispatch) {\n    deleteTask(id);\n    var items = getAllTasks();\n    dispatch({\n      type: \"DELETE_SUCCESS\",\n      payload: items\n    });\n  };\n};\nexport var editTask = function editTask(id) {\n  return function (dispatch) {\n    var items = getAllTasks().filter(function (t) {\n      return t.id === id;\n    })[0];\n    console.log(items);\n    dispatch({\n      type: \"EDIT_TASK\",\n      payload: items\n    });\n  };\n};\nexport var sendEditTask = function sendEditTask(body) {\n  return function (dispatch) {\n    var cleanBody = _objectSpread({}, body);\n\n    delete cleanBody.type;\n    putTask(cleanBody);\n    var items = getAllTasks();\n    dispatch({\n      type: \"ADD_SUCCESS\",\n      payload: items\n    });\n  };\n};\nexport var clearForm = function clearForm() {\n  return function (dispatch) {\n    dispatch({\n      type: \"CLEAR_FORM\"\n    });\n  };\n};\nexport var searchAllTasks = function searchAllTasks() {\n  return function (dispatch) {\n    var items = getAllTasks().sort(function (a, b) {\n      return moment(a.dateStart, \"YYYY-MM-DDTHH:mm\").format('X') - moment(b.dateStart, \"YYYY-MM-DDTHH:mm\").format('X');\n    });\n    dispatch({\n      type: \"FILTER_TASKS\",\n      payload: items\n    });\n  };\n};\nexport var searchTodayTasks = function searchTodayTasks() {\n  return function (dispatch) {\n    var items = searchTasksOneDay(moment().format(\"DD-MM-YYYY\")).sort(function (a, b) {\n      return moment(a.dateStart, \"YYYY-MM-DDTHH:mm\").format('X') - moment(b.dateStart, \"YYYY-MM-DDTHH:mm\").format('X');\n    });\n    dispatch({\n      type: \"FILTER_TASKS\",\n      payload: items\n    });\n  };\n};\nexport var searchTomorrowTasks = function searchTomorrowTasks() {\n  return function (dispatch) {\n    var items = searchTasksOneDay(moment().add(1, 'day').format(\"DD-MM-YYYY\")).sort(function (a, b) {\n      return moment(a.dateStart, \"YYYY-MM-DDTHH:mm\").format('X') - moment(b.dateStart, \"YYYY-MM-DDTHH:mm\").format('X');\n    });\n    dispatch({\n      type: \"FILTER_TASKS\",\n      payload: items\n    });\n  };\n};\nexport var searchWeekTasks = function searchWeekTasks() {\n  return function (dispatch) {\n    var week = [];\n\n    for (var i = 1; i <= 7; i++) {\n      week.push.apply(week, _toConsumableArray(searchTasksOneDay(moment().isoWeekday(i).format(\"DD-MM-YYYY\"))));\n    }\n\n    return week;\n    var items = searchTasksOneDay(moment().add(1, 'day').format(\"DD-MM-YYYY\")).sort(function (a, b) {\n      return moment(a.dateStart, \"YYYY-MM-DDTHH:mm\").format('X') - moment(b.dateStart, \"YYYY-MM-DDTHH:mm\").format('X');\n    });\n    dispatch({\n      type: \"FILTER_TASKS\",\n      payload: items\n    });\n  };\n};","map":{"version":3,"sources":["/home/den/project/etagiToDo/src/actions/listTasksAction.js"],"names":["getAllTasks","deleteTask","putTask","moment","searchTasksOneDay","date","filter","task","dateStart","format","getSt","body","dispatch","items","type","payload","delTask","id","editTask","t","console","log","sendEditTask","cleanBody","clearForm","searchAllTasks","sort","a","b","searchTodayTasks","searchTomorrowTasks","add","searchWeekTasks","week","i","push","isoWeekday"],"mappings":"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","sourcesContent":["import { getAllTasks, deleteTask, putTask } from \"../apiService\";\nimport moment from 'moment';\n\nconst searchTasksOneDay = (date) => getAllTasks().filter( task =>\n  moment(task.dateStart, \"YYYY-MM-DDTHH:mm\").format(\"DD-MM-YYYY\") === date\n);\n\nexport const getSt = (body) => dispatch => {\n  const items = getAllTasks();\n  dispatch({ type: \"FETCH_SUCCESS\", payload: items })\n};\n\nexport const delTask = (id) => dispatch => {\n  deleteTask(id);\n  const items = getAllTasks();\n  dispatch({ type: \"DELETE_SUCCESS\", payload: items })\n};\n\nexport const editTask = (id) => dispatch => {\n  const items = getAllTasks().filter(t => t.id === id)[0];\n  console.log(items);\n  dispatch({ type: \"EDIT_TASK\", payload: items })\n};\n\nexport const sendEditTask = (body) => dispatch => {\n  const cleanBody = {...body};\n  delete cleanBody.type;\n  putTask(cleanBody);\n  const items = getAllTasks();\n  dispatch({ type: \"ADD_SUCCESS\", payload: items });\n};\n\nexport const clearForm = () => dispatch => {\n  dispatch({ type: \"CLEAR_FORM\" })\n};\n\nexport const searchAllTasks = () => dispatch => {\n  const items = getAllTasks().sort(function(a, b){\n    return moment(a.dateStart, \"YYYY-MM-DDTHH:mm\").format('X')-moment(b.dateStart, \"YYYY-MM-DDTHH:mm\").format('X')\n  });\n  dispatch({\n    type: \"FILTER_TASKS\",\n    payload: items\n  });\n};\n\nexport const searchTodayTasks = () => dispatch => {\n  const items = searchTasksOneDay(moment().format(\"DD-MM-YYYY\")).sort(function(a, b){\n    return moment(a.dateStart, \"YYYY-MM-DDTHH:mm\").format('X')-moment(b.dateStart, \"YYYY-MM-DDTHH:mm\").format('X')\n  });\n  dispatch({\n    type: \"FILTER_TASKS\",\n    payload: items\n  });\n};\n\nexport const searchTomorrowTasks = () => dispatch => {\n  const items = searchTasksOneDay(moment().add(1, 'day').format(\"DD-MM-YYYY\")).sort(function(a, b){\n    return moment(a.dateStart, \"YYYY-MM-DDTHH:mm\").format('X')-moment(b.dateStart, \"YYYY-MM-DDTHH:mm\").format('X')\n  });\n  dispatch({\n    type: \"FILTER_TASKS\",\n    payload: items\n  });\n};\n\nexport const searchWeekTasks = () => dispatch => {\n  const week = [];\n  for (var i = 1; i <= 7; i++) {\n    week.push(...searchTasksOneDay(\n      moment().isoWeekday(i).format(\"DD-MM-YYYY\")\n    ))\n  }\n  return week;\n  const items = searchTasksOneDay(moment().add(1, 'day').format(\"DD-MM-YYYY\")).sort(function(a, b){\n    return moment(a.dateStart, \"YYYY-MM-DDTHH:mm\").format('X')-moment(b.dateStart, \"YYYY-MM-DDTHH:mm\").format('X')\n  });\n  dispatch({\n    type: \"FILTER_TASKS\",\n    payload: items\n  });\n};\n"]},"metadata":{},"sourceType":"module"}